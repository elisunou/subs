<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<settings>
    <!-- ========================================================================
                                AUTENTIFICARE API
    ========================================================================= -->
    <category label="Autentificare">
        <setting id="api_key" type="text" label="Cheie API Subs.ro" default="" option="hidden" />
        
        <setting type="sep" />
        
        <setting type="lsep" label="Cum obțin o cheie API?" />
        <setting type="lsep" label="1. Accesează https://subs.ro/api" />
        <setting type="lsep" label="2. Autentifică-te cu contul tău" />
        <setting type="lsep" label="3. Generează/Copiază cheia API" />
        <setting type="lsep" label="4. Lipește cheia mai sus" />
        
        <setting type="sep" />
        
        <setting id="check_quota" type="bool" label="Verifică quota API la fiecare căutare" default="true" />
        <setting type="lsep" label="Afișează avertisment când quota scade sub 10%" enable="eq(-1,true)" />
        
        <setting type="sep" />
        
        <setting id="auth_method" type="enum" label="Metodă autentificare API" default="0" lvalues="Header (X-Subs-Api-Key)|Query param (apiKey)" />
        <setting type="lsep" label="Header este metoda implicită și recomandată" />
        
        <setting type="sep" />
        
        <setting id="search_language" type="enum" label="Limba subtitrărilor" default="0" lvalues="Română (ro)|Engleză (en)|Italiană (ita)|Franceză (fra)|Germană (ger)|Maghiară (ung)|Greacă (gre)|Portugheză (por)|Spaniolă (spa)|Altele (alt)" />
        
        <setting type="sep" />
        
        <setting id="api_key_validated" type="bool" label="Cheie API validată" default="false" visible="false" />
    </category>

    <!-- ========================================================================
                                MOD DESCĂRCARE
    ========================================================================= -->
    <category label="Descărcare">
        <setting id="download_mode" type="enum" label="Mod descărcare" default="0" lvalues="Automat|Manual|Întreabă de fiecare dată" />
        
        <setting type="sep" />
        
        <setting type="lsep" label="[B]Automat[/B]: Descarcă automat cea mai potrivită subtitrare" />
        <setting type="lsep" label="[B]Manual[/B]: Afișează lista pentru selecție manuală" />
        <setting type="lsep" label="[B]Întreabă[/B]: Confirmă înainte de descărcare automată" />
        
        <setting type="sep" />
        
        <setting id="auto_threshold" type="slider" label="Prag minim scor pentru auto-descărcare" default="50" range="0,10,200" option="int" visible="eq(-5,0)" />
        <setting type="lsep" label="Recomandat: 50-100. Cu cât mai mare, cu atât mai strict." visible="eq(-6,0)" />
    </category>

    <!-- ========================================================================
                                MATCHMAKING
    ========================================================================= -->
    <category label="Matchmaking">
        <setting id="enable_matchmaking" type="bool" label="Activează matchmaking inteligent" default="true" />
        
        <setting type="sep" />
        
        <setting id="match_episode" type="bool" label="Potrivire strictă episod (S##E##)" default="true" enable="eq(-2,true)" />
        <setting id="match_source" type="bool" label="Prioritizează sursa video (BluRay/WEB/HDTV)" default="true" enable="eq(-3,true)" />
        <setting id="match_release_group" type="bool" label="Prioritizează release group" default="true" enable="eq(-4,true)" />
        <setting id="match_resolution" type="bool" label="Prioritizează rezoluția (1080p/720p/2160p)" default="false" enable="eq(-5,true)" />
        
        <setting type="sep" />
        
        <setting id="prefer_retail" type="bool" label="Prioritizează subtitrări retail/official" default="true" enable="eq(-6,true)" />
        <setting type="lsep" label="(Netflix, HBO, Amazon, Disney+, iTunes, etc.)" enable="eq(-1,true)" />
        
        <setting type="sep" />
        
        <setting id="show_match_scores" type="bool" label="Afișează scorul de potrivire în listă" default="false" enable="eq(-9,true)" />
        <setting type="lsep" label="Util pentru debugging și înțelegerea algoritmului" enable="eq(-1,true)" />
        
        <setting type="sep" />
        
        <setting type="lsep" label="[B]Algoritm de scoring:[/B]" />
        <setting type="lsep" label="• Episod corect: +100 puncte" />
        <setting type="lsep" label="• Sursă identică: +50 puncte" />
        <setting type="lsep" label="• Release group: +30 puncte" />
        <setting type="lsep" label="• Traducător prioritar: +15 puncte" />
    </category>

    <!-- ========================================================================
                                FILTRARE
    ========================================================================= -->
    <category label="Filtrare">
        <setting id="filter_by_hearing_impaired" type="bool" label="Exclude subtitrări pentru deficiențe auditive (SDH)" default="false" />
        <setting type="lsep" label="Filtrează subtitrări marcate cu [HI] sau [SDH]" enable="eq(-1,true)" />
        
        <setting type="sep" />
        
        <setting id="filter_by_fps" type="bool" label="Filtrează după FPS video" default="false" />
        <setting type="lsep" label="[COLOR orange]EXPERIMENTAL[/COLOR] - Necesită detectare FPS" enable="eq(-1,true)" />
        
        <setting type="sep" />
        
        <setting id="min_rating" type="slider" label="Rating minim subtitrare" default="0" range="0,1,10" option="int" />
        <setting type="lsep" label="0 = acceptă orice rating" />
    </category>

    <!-- ========================================================================
                                CACHE
    ========================================================================= -->
    <category label="Cache">
        <setting id="cache_results" type="bool" label="Activează cache pentru rezultate căutare" default="true" />
        <setting type="lsep" label="Reduce timpul de răspuns și cererile API" enable="eq(-1,true)" />
        
        <setting type="sep" />
        
        <setting id="cache_duration" type="slider" label="Durată cache (minute)" default="60" range="5,5,180" option="int" visible="eq(-3,true)" />
        <setting type="lsep" label="Cache-ul expiră după această perioadă" visible="eq(-4,true)" />
        
        <setting type="sep" />
        
        <setting id="clear_cache_on_startup" type="bool" label="Șterge cache la pornirea Kodi" default="false" visible="eq(-6,true)" />
    </category>

    <!-- ========================================================================
                                AVANSATE
    ========================================================================= -->
    <category label="Avansate">
        <setting id="encoding_priority" type="enum" label="Prioritate encoding" default="0" lvalues="UTF-8|ISO-8859-2|Windows-1250|Auto-detect" />
        <setting type="lsep" label="Prioritatea de încercare pentru decodare diacritice" />
        
        <setting type="sep" />
        
        <setting id="multi_episode_handling" type="enum" label="Gestionare episoade multiple în arhivă" default="2" lvalues="Selectare manuală|Prima subtitrare|Cea mai potrivită" />
        
        <setting type="lsep" label="[B]Selectare manuală[/B]: Dialog cu listă" />
        <setting type="lsep" label="[B]Prima subtitrare[/B]: Automat, rapid" />
        <setting type="lsep" label="[B]Cea mai potrivită[/B]: Matchmaking automat (recomandat)" />
        
        <setting type="sep" />
        
        <setting id="retry_failed_downloads" type="bool" label="Reîncearcă automat download-uri eșuate" default="true" />
        <setting id="retry_attempts" type="slider" label="Număr de reîncercări" default="3" range="1,1,5" option="int" visible="eq(-1,true)" />
        
        <setting type="sep" />
        
        <setting id="timeout_duration" type="slider" label="Timeout cereri API (secunde)" default="10" range="5,1,30" option="int" />
    </category>

    <!-- ========================================================================
                                NOTIFICĂRI
    ========================================================================= -->
    <category label="Notificări">
        <setting id="notify_auto_download" type="bool" label="Notificare la descărcare automată" default="true" />
        <setting id="notify_no_match" type="bool" label="Notificare când nu găsește potrivire" default="true" />
        <setting id="notify_cache_hit" type="bool" label="Notificare când folosește cache" default="false" />
        <setting id="notify_quota_warning" type="bool" label="Notificare avertisment quota" default="true" />
        
        <setting type="sep" />
        
        <setting id="notify_duration" type="slider" label="Durată notificări (secunde)" default="3" range="1,1,10" option="int" />
        
        <setting type="sep" />
        
        <setting id="notify_sound" type="bool" label="Sunet la notificări" default="false" />
    </category>

    <!-- ========================================================================
                                DEBUGGING
    ========================================================================= -->
    <category label="Debugging">
        <setting id="debug_log" type="bool" label="Activează log-uri detaliate" default="false" />
        <setting type="lsep" label="Log-urile apar în kodi.log" enable="eq(-1,true)" />
        
        <setting type="sep" />
        
        <setting id="log_api_requests" type="bool" label="Log cereri API (include URL-uri)" default="false" enable="eq(-3,true)" />
        <setting id="log_matchmaking" type="bool" label="Log detalii matchmaking" default="false" enable="eq(-4,true)" />
        <setting id="log_cache_operations" type="bool" label="Log operații cache" default="false" enable="eq(-5,true)" />
        
        <setting type="sep" />
        
        <setting type="lsep" label="[COLOR yellow]Atenție:[/COLOR] Log-urile detaliate pot încetini sistemul" />
    </category>

    <!-- ========================================================================
                                DESPRE
    ========================================================================= -->
    <category label="Despre">
        <setting type="lsep" label="[B]Subs.ro Addon pentru Kodi[/B]" />
        <setting type="lsep" label="Versiune: 2.0.0" />
        
        <setting type="sep" />
        
        <setting type="lsep" label="[B]Funcționalități:[/B]" />
        <setting type="lsep" label="• Matchmaking inteligent (episod/sursă/grup)" />
        <setting type="lsep" label="• Cache local pentru performanță" />
        <setting type="lsep" label="• Suport VFS pentru RAR/ZIP" />
        <setting type="lsep" label="• Gestionare automată episoade multiple" />
        <setting type="lsep" label="• Detectare automată encoding diacritice" />
        <setting type="lsep" label="• Verificare quota API" />
        
        <setting type="sep" />
        
        <setting type="lsep" label="[B]Dezvoltatori:[/B]" />
        <setting type="lsep" label="API: https://subs.ro/api" />
        <setting type="lsep" label="Forum: https://forum.kodi.tv" />
        
        <setting type="sep" />
        
        <setting type="lsep" label="[COLOR cyan]Mulțumiri comunității Subs.ro![/COLOR]" />
    </category>
</settings>
